version: '3.3'services:zookeeper:image: wurstmeister/zookeeperports:-"2181"hostname: zookeeperkafka:image: wurstmeister/kafkacommand: [start-kafka.sh]ports:-"9092:9092"hostname: kafkaenvironment:KAFKA_CREATE_TOPICS: "events:1:1" # topic:partition:replicasKAFKA_ADVERTISED_HOST_NAME: <VM DNS Name># docker-machine ipKAFKA_LISTENERS: INSIDE://:29092,OUTSIDE://:9092KAFKA_INTER_BROKER_LISTENER_NAME: INSIDEKAFKA_ADVERTISED_LISTENERS: INSIDE://kafka:29092,OUTSIDE://<VM DNS Name>:9092KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT,OUTSIDE:PLAINTEXTKAFKA_ZOOKEEPER_CONNECT: zookeeper:2181volumes:-/var/run/docker.sock:/var/run/docker.sockdepends_on:-"zookeeper"db:image: mysql:5.7restart: alwaysenvironment:MYSQL_DATABASE: 'events'# So you don't have to use root, but you can if you likeMYSQL_USER: 'user'# You can use whatever password you likeMYSQL_PASSWORD: 'password'# Password for root accessMYSQL_ROOT_PASSWORD: 'password'ports:# <Port exposed> : < MySQL Port running inside container>-'3306:3306'expose:# Opens port 3306 on the container-'3306'# Where our data will be persistedvolumes:-my-db:/var/lib/mysql# Names our volumevolumes:my-db: